# ๐ ุฏููู ุชุญููู ุงูุชูุงุฑูุฎ ูู ุงููุฌุฑู ุฅูู ุงููููุงุฏู
# Guide to Convert Hijri Dates to Gregorian

**ุงูุชุงุฑูุฎ:** ุฃูุชูุจุฑ 28ุ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**

---

## ๐ฏ ุงููุฏู

ุชุญููู ุฌููุน ุงูุชูุงุฑูุฎ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุตูุบุฉ ูุฌุฑูุฉ ุฅูู ุตูุบุฉ ูููุงุฏูุฉ ูุชุตุญูุญ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ูุณุจูุงู.

---

## โ๏ธ ุชุญุฐูุฑ ูุงู

**ูุจู ุงูุจุฏุกุ ุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช!**

```bash
# ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช
mysqldump -u wa_bot_user -p wa_bot_db > backup_before_date_conversion.sql
```

---

## ๐ ุงููููุงุช ุงููุชุงุญุฉ

### 1. ๐ convert_hijri_to_gregorian.sql
- **ููุน:** SQL Script
- **ุงููุตู:** ุณูุฑูุจุช SQL ูุจุงุดุฑ ูุชุญููู ุงูุชูุงุฑูุฎ
- **ุงููููุฒุงุช:** ุณุฑูุนุ ูุง ูุชุทูุจ ููุชุจุงุช ุฎุงุฑุฌูุฉ
- **ุงูุนููุจ:** ุชุญููู ุชูุฑูุจู (ูุถูู 579 ุณูุฉ)

### 2. ๐ convert_dates.js
- **ููุน:** Node.js Script
- **ุงููุตู:** ุณูุฑูุจุช ูุชูุฏู ูุน ููุชุจุฉ hijri-to-gregorian
- **ุงููููุฒุงุช:** ุชุญููู ุฏูููุ ูุนุงูุฌุฉ ูุฑุฏูุฉ ููุณุฌูุงุช
- **ุงูุนููุจ:** ูุชุทูุจ ุชุซุจูุช ููุชุจุฉ ุฎุงุฑุฌูุฉ

### 3. ๐ convert_dates_simple.js
- **ููุน:** Node.js Script (ูุจุณุท)
- **ุงููุตู:** ุณูุฑูุจุช ูุจุณุท ุจุฏูู ููุชุจุงุช ุฎุงุฑุฌูุฉ
- **ุงููููุฒุงุช:** ุณูู ุงูุงุณุชุฎุฏุงูุ ุชุญููู ุชูุฑูุจู ุฌูุฏ
- **ุงูุนููุจ:** ุชุญููู ุชูุฑูุจู (0.97 ุณูุฉ ูููุงุฏูุฉ = 1 ุณูุฉ ูุฌุฑูุฉ)

---

## ๐ ุทุฑู ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ ุงูุฃููู: SQL Script (ุงูุฃุณุฑุน)

```bash
# 1. ุงุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u wa_bot_user -p wa_bot_db

# 2. ุดุบู ุงูุณูุฑูุจุช
source /c/wamp64/www/wa-bot/database/convert_hijri_to_gregorian.sql;

# 3. ุชุญูู ูู ุงููุชุงุฆุฌ
SELECT COUNT(*) as total_users FROM users;
SELECT MIN(joined_at) as earliest_date FROM users;
SELECT MAX(joined_at) as latest_date FROM users;
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: Node.js Simple (ููุตู ุจู)

```bash
# 1. ุงูุชูู ููุฌูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
cd c:/wamp64/www/wa-bot/database

# 2. ุดุบู ุงูุณูุฑูุจุช
node convert_dates_simple.js

# 3. ุฑุงูุจ ุงููุชุงุฆุฌ
```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: Node.js Advanced (ุงูุฃุฏู)

```bash
# 1. ุซุจูุช ุงูููุชุจุฉ ุงููุทููุจุฉ
npm install hijri-to-gregorian

# 2. ุดุบู ุงูุณูุฑูุจุช
node convert_dates.js

# 3. ุฑุงูุจ ุงููุชุงุฆุฌ
```

---

## ๐ ุงูุฌุฏุงูู ุงูุชู ุณูุชู ุชุญููููุง

| ุงูุฌุฏูู | ุงูุญููู ุงูุชู ุณูุชู ุชุญููููุง |
|--------|---------------------------|
| `users` | `joined_at`, `last_active` |
| `messages` | `sent_at` |
| `courses` | `schedule_date`, `created_at` |
| `interactions` | `created_at` |
| `surveys` | `created_at` |
| `survey_responses` | `submitted_at` |
| `scheduled_content` | `scheduled_at`, `created_at` |
| `analytics` | `date` |
| `message_templates` | `created_at` |

---

## ๐ ุงูุชุญูู ูู ุงููุชุงุฆุฌ

### 1. ุงูุชุญูู ูู ุงูุชูุงุฑูุฎ ุงููุญููุฉ

```sql
-- ุชุญูู ูู ุชูุงุฑูุฎ ุงููุณุชุฎุฏููู
SELECT id, name, joined_at, last_active FROM users ORDER BY joined_at DESC LIMIT 10;

-- ุชุญูู ูู ุชูุงุฑูุฎ ุงูุฑุณุงุฆู
SELECT id, message_type, sent_at FROM messages ORDER BY sent_at DESC LIMIT 10;

-- ุชุญูู ูู ุชูุงุฑูุฎ ุงูุฏูุฑุงุช
SELECT id, title, schedule_date, created_at FROM courses ORDER BY created_at DESC LIMIT 10;
```

### 2. ุงูุชุญูู ูู ูุทุงู ุงูุชูุงุฑูุฎ

```sql
-- ูุฌุจ ุฃู ุชููู ุงูุชูุงุฑูุฎ ุจูู 2020-2026
SELECT 
    'users' as table_name,
    MIN(joined_at) as earliest,
    MAX(joined_at) as latest,
    COUNT(*) as total
FROM users
WHERE joined_at IS NOT NULL
UNION ALL
SELECT 
    'messages' as table_name,
    MIN(sent_at) as earliest,
    MAX(sent_at) as latest,
    COUNT(*) as total
FROM messages
WHERE sent_at IS NOT NULL;
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ุงูุชูุงุฑูุฎ ูุง ุชุฒุงู ูุฌุฑูุฉ

**ุงูุญู:**
```sql
-- ุชุญูู ูู ุงูุณููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
SELECT DISTINCT YEAR(joined_at) as year FROM users ORDER BY year;
SELECT DISTINCT YEAR(sent_at) as year FROM messages ORDER BY year;
```

### ูุดููุฉ: ุฃุฎุทุงุก ูู ุงูุชุญููู

**ุงูุญู:**
```bash
# ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุจุช ูุน ุชุณุฌูู ุงูุฃุฎุทุงุก
node convert_dates_simple.js 2>&1 | tee conversion.log
```

### ูุดููุฉ: ููุฏุงู ุงูุจูุงูุงุช

**ุงูุญู:**
```bash
# ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
mysql -u wa_bot_user -p wa_bot_db < backup_before_date_conversion.sql
```

---

## ๐ ุจุนุฏ ุงูุชุญููู

### 1. ุชุญุฏูุซ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

ุชุฃูุฏ ูู ุฃู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุชุณุชุฎุฏู ุตูุบุฉ ุงูุชุงุฑูุฎ ุงููููุงุฏู:

```javascript
// ูู ุฌููุน ูููุงุช JavaScript
new Date(date).toLocaleDateString('en-US', { 
  year: 'numeric', 
  month: 'short', 
  day: 'numeric' 
});
```

### 2. ุงุฎุชุจุงุฑ ุงููุธุงู

```bash
# 1. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู
cd backend
npm run dev

# 2. ุงุฎุชุจุฑ ุนุฑุถ ุงูุชูุงุฑูุฎ
# 3. ุชุญูู ูู ุฌููุน ุงูุตูุญุงุช
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [x] ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุชุญููู ุงูููุงุณุจุฉ
- [x] ุชุดุบูู ุณูุฑูุจุช ุงูุชุญููู
- [x] ุงูุชุญูู ูู ุงููุชุงุฆุฌ
- [x] ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- [x] ุงูุชุฃูุฏ ูู ุนุฑุถ ุงูุชูุงุฑูุฎ ุจุดูู ุตุญูุญ

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. **ุชุญูู ูู ุงูุณุฌูุงุช:** `tail -f backend/app.log`
2. **ุงุฎุชุจุฑ ุงูุงุชุตุงู:** `mysql -u wa_bot_user -p wa_bot_db`
3. **ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ:** ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฃูุชูุจุฑ 28ุ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ **ููุชูู ูุฌุงูุฒ**
